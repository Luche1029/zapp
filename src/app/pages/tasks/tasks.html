<div class="page-wrapper">

  <div class="module-container">
    <h2>Task per {{ plantNickname }}</h2>

    <div *ngIf="loading">Caricamento in corso...</div>
    <div *ngIf="error" class="error">{{ error }}</div>

    <ul *ngIf="!loading && !error">
      <li *ngFor="let task of tasks">
        <div class="task-info">
          <strong>{{ task.type | titlecase }}</strong>
          <span class="date">{{ task.scheduled_date | date }}</span>
          <small class="material-icons" *ngIf="task.status === 'completed'">check</small>
          <small class="material-icons"  *ngIf="task.status === 'skipped'">close</small>
          <small class="material-icons"  *ngIf="task.status === 'pending'">hourglass_top</small>
          <p *ngIf="task.notes">{{ task.notes }}</p>
        </div>

        <div class="task-actions" *ngIf="task.status === 'pending'">
          <button (click)="completeTask(task.id)">
            <span class="material-icons">check</span>
          </button>
          <button (click)="skipTask(task.id)">
            <span class="material-icons">close</span>            
          </button>
        </div>
      </li>
    </ul>
  </div>

  <button class="fab" (click)="goToPlants()">
    <span class="material-icons">arrow_back</span>
  </button>

</div>
